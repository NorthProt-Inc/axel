{"ts":"0207T2200","from":"arch","type":"done","task":"PLAN-001","out":"docs/plan/v2-open-items-decisions.md","note":"5 open items resolved: gemini-embedding-001(768d), React, GitHub Actions, Docker Compose on VPS, structured logs→Phase2 Grafana"}
{"ts":"0207T2200","from":"arch","type":"done","task":"ADR-013","out":"docs/adr/013-six-layer-memory-architecture.md","note":"6-layer finalized: Stream Buffer(L0)+Meta Memory(L5) added, all interfaces defined, hybrid search strategy, phased implementation"}
{"ts":"0207T2200","from":"arch","type":"done","task":"ADR-014","out":"docs/adr/014-cross-channel-session-router.md","note":"Unified Session model, 30min timeout, Redis state, concurrent access handling, proactive channel selection, error fallbacks"}
{"ts":"0207T2330","from":"arch","type":"done","task":"PLAN-002","out":"docs/plan/openapi-v1.yaml, docs/plan/websocket-protocol.md","note":"OpenAPI 3.0 spec: 12 endpoints (health, chat, memory, session, tools, webhooks), SSE streaming, WebSocket protocol doc, error responses, rate limiting, tool approval flow"}
{"ts":"0207T2330","from":"arch","type":"done","task":"PLAN-003","out":"docs/plan/migration-strategy.md","note":"6 numbered migrations (up/down), IVFFlat reindex strategy, re-embedding plan (text-embedding-004→gemini-embedding-001), CI migration test, validation queries. Fixed v2.0 hot_memories materialized view SQL."}
{"ts":"0207T2330","from":"arch","type":"done","task":"ADR-015","out":"docs/adr/015-adaptive-decay-v2.md","note":"Formula verified with 5 numerical scenarios. BUG FOUND: recency boost can exceed original importance (EC-1). Fix: cap at importance. 7 edge cases documented. C++ SIMD not needed (5ms for 1K memories). Batch decay every 6h with 30-day deletion guard."}
{"ts":"0208T0730","from":"arch","type":"ack","task":"SELF-QA","note":"Self-consistency review completed. All 6 outputs (PLAN-001/002/003, ADR-013/014/015) internally consistent. v2.0 plan discrepancies (embedding model, migration strategy) correctly superseded by PLAN-001. Awaiting QA Division feedback and new task assignments."}
{"ts":"0207T2330","from":"arch","type":"done","task":"ADR-016","out":"docs/adr/016-embedding-model-selection.md","note":"Formal ADR for gemini-embedding-001 selection. Alternatives: text-embedding-004 (deprecated), OpenAI, Voyage, Ollama. 768d Matryoshka truncation. Re-embed required. MTEB #1."}
{"ts":"0207T2330","from":"arch","type":"done","task":"PLAN-UPDATE","out":"docs/plan/axel-project-plan.md","note":"Section 11 updated: all 5 open items marked resolved with ADR/PLAN references. v3.0 output status table added. Config schema embeddingModel default corrected. ADR-016 added to ADR list."}
{"ts":"0207T2330","from":"arch","type":"claim","task":"IDLE","note":"All assigned P0/P1 tasks complete. Awaiting: (1) Research results RES-001~005, (2) Quality feedback QA-001~002, (3) Coordinator new assignments. Ready for v3.0 plan integration when inputs available."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-1","out":"docs/adr/001-*.md ~ 012-*.md","note":"ADR-001~012 batch created (12 files). All confirmed ADRs now have formal documents with Context, Decision, Alternatives Considered, Consequences. ERR-003, ERR-QG2 resolved."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-3","out":"docs/plan/axel-project-plan.md","note":"7 factual corrections applied: (1) IVFFlat→HNSW index (ERR-001/013), (2) decay params added to MemoryConfigSchema (ERR-002), (3) text-embedding-004 refs removed (ERR-011), (4) tiktoken→Anthropic countTokens (ERR-012), (5) Gemini Flash <50ms→~300-500ms (ERR-014), (6) ToolDefinition type moved to core (ERR-020), (7) migration direction fixed to re-embed (ERR-021)."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-2","out":"docs/plan/axel-project-plan.md","note":"Core domain types defined in new Section 3.5: Memory, Message, SessionState, SessionSummary, ReActEvent, ToolCallRequest, ToolResult, ToolDefinition, HealthStatus, ComponentHealth, MemoryEngine, MemoryStats, TokenUsage. ERR-035 resolved."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-5","out":"docs/adr/020-error-taxonomy.md","note":"ADR-020: AxelError hierarchy (7 types: Transient, Permanent, Validation, Auth, Provider, Tool, Timeout). Error classification matrix. ReAct loop error handling with tool retry + LLM fallback. ERR-036, ERR-037 resolved."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-6","out":"docs/adr/021-resilience-patterns.md","note":"ADR-021: (1) Session state machine with 7 states, (2) graceful shutdown 4-phase sequence with 30s timeout, (3) memory consolidation L2→L3 algorithm with dedup, (4) circuit breaker state machine. ERR-039/040/041/043 resolved."}
{"ts":"0208T0830","from":"arch","type":"done","task":"WP-7","out":"docs/adr/019-auth-strategy.md","note":"ADR-019: (1) Static Bearer Token Phase 0-1, JWT Phase 2+, (2) WS first-message auth with 5s timeout, (3) webhook signature verification (Telegram/Discord), (4) command args/cwd validation, (5) 4-layer prompt injection defense, (6) migration TS-only via better-sqlite3+parquet-wasm. ERR-024~030 resolved."}
{"ts":"0208T0830","from":"arch","type":"done","task":"ADR-017","out":"docs/adr/017-webchat-spa-framework.md","note":"Svelte 5 selected over React based on RES-004 data. Supersedes PLAN-001 Item #2. Bundle 6x smaller, 30% faster render, sufficient ecosystem for single-user chat."}
{"ts":"0208T0830","from":"arch","type":"done","task":"ADR-018","out":"docs/adr/018-token-counting-strategy.md","note":"Anthropic SDK countTokens() as primary, local estimate as secondary. 2-tier strategy with LRU cache. tiktoken rejected (ERR-012). Supersedes v2.0 tiktoken reference."}
{"ts":"0208T0930","from":"arch","type":"done","task":"WP-4","out":"docs/adr/003-redis-working-memory.md, docs/plan/axel-project-plan.md","note":"ADR-003 updated: (1) PG-first write pattern established — Redis is read-acceleration cache only, (2) 5 critical functions each with explicit error handling (circuit breaker + typed fallback), (3) Redis config schema expanded (connectTimeout, commandTimeout, maxRetries), (4) Error handling summary table with ADR-020/021 cross-refs, (5) Error handling strategy alternatives documented. Plan updated: Redis config schema + Section 2.2 degradation note. ERR-010, ERR-038 resolved."}
{"ts":"0208T1130","from":"arch","type":"done","task":"FIX-MED","out":"docs/plan/axel-project-plan.md","note":"22 MEDIUM/LOW issues resolved in plan body: ERR-004/005/006/007/008/009/010/015/016/017/018/019/022/023/031/032/033/034/042/044/045/046/047/048/049. Key changes: (1) React→Svelte 3 refs fixed, (2) ToolDefinition dedup, (3) LlmProvider.embed() removed, (4) Redis shadow write table + degradation path in plan, (5) TTFT/Docker qualifiers, (6) DI container ~20 services listed, (7) Turtle/Memory layer naming convention, (8) ContextDataProvider interface, (9) InboundHandler type, (10) claude_reports MEDIUM Axel mappings, (11) credential redaction spec, (12) security test cases expanded, (13) AxelChannel reconnection lifecycle, (14) streaming error handling, (15) PersonaEngine hot-reload mechanism, (16) Meta Memory feedback loop, (17) Section 11 status updated. LAST major task before QA-009 sign-off."}
{"ts":"0208T2100","from":"arch","type":"done","task":"EMBED-3072","out":"docs/adr/016-embedding-model-selection.md, docs/plan/axel-project-plan.md, docs/plan/v2-open-items-decisions.md, docs/plan/migration-strategy.md, docs/adr/013-six-layer-memory-architecture.md, docs/adr/002-postgresql-single-db.md","note":"Mark directive: embedding dimension 768d→3072d (full dimension). 6 files updated: ADR-016 dimension choice rewritten (3072d rationale), plan body 9 references updated (vector(3072), embeddingDimension default 3072, migration re-embed to 3072d), ADR-013 Layer 3 table, ADR-002 schema overview, v2-open-items-decisions.md, migration-strategy.md. Plan version bumped v2.0.1→v2.0.2. Remaining 768d references are historical (axnmihn data) or comparison context — correctly preserved."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-021","note":"ADR-016:28 max input tokens 8192→2048 수정. 공식 문서 기준 GA model 2,048."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-022","note":"migration-strategy:180-187 IVFFlat→HNSW 통일. plan body(line 787)와 일관성 확보. 3072d 메모리 계산 추가."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-023","note":"ADR-016:29 output dimensions 128-3072 유연 범위 + 추천값(768/1536/3072) 명시."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-024","note":"ADR-016:34 task types 5→8개로 확장(CODE_RETRIEVAL_QUERY, QUESTION_ANSWERING, FACT_VERIFICATION 추가)."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-025","note":"ADR-016:31 MTEB score 68.32→68.16 (GA 3072d). 실험 모델 68.32 별도 표기."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-026","note":"ADR-016에 batchEmbedContents endpoint 정보 추가. 최대 250 texts/request (Vertex AI)."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-027","note":"v2-open-items Section 2 React→Svelte 5 superseded 표기. Summary 테이블도 갱신."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-029","note":"ERR-052: plan:1721-1722 이미 EMBED-3072에서 3072d로 수정 완료."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-030","note":"ERR-053에서 처리: migration-strategy HNSW로 통일 + 3072d 메모리 계산(12,416 bytes/vector)."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-031","note":"ERR-054: ADR-016:123 index 재사용 claim은 EMBED-3072에서 이미 수정됨(Gemini API key 공유 advantage로 변경)."}
{"ts":"0208T2230","from":"arch","type":"ack","ref":"AUD-033","note":"ADR-016:69 rateLimitRpm 1500 → paid tier로 명확화. Free tier ~5-15 RPM 주석 추가(RES-003 출처)."}
{"ts":"0208T2230","from":"arch","type":"done","task":"FIX-AUDIT","out":"docs/adr/016-embedding-model-selection.md, docs/plan/v2-open-items-decisions.md, docs/plan/migration-strategy.md, docs/plan/axel-project-plan.md","note":"7 residual audit findings(ERR-050~056) 처리 완료 + 4 추가 MEDIUM findings(AUD-023~026) 수정. (1) ADR-016: max input tokens 8192→2048, MTEB 68.32→68.16(GA), dimensions 128-3072 유연 범위, task types 8개, batch API, rateLimitRpm paid tier 명확화. (2) v2-open-items: Section 2 React→Svelte superseded 표기. (3) migration-strategy: IVFFlat→HNSW 통일 + 3072d 메모리 계산. (4) Plan v2.0.2→v2.0.3. ERR-052/054/056은 EMBED-3072에서 이미 해결 확인."}
{"ts":"0208T0200","from":"arch","type":"done","task":"FIX-PRE-IMPL","out":"docs/adr/013-six-layer-memory-architecture.md, docs/plan/migration-strategy.md, docs/plan/axel-project-plan.md, .axel-ops/PLAN_SYNC.md","note":"3 MEDIUM consistency fixes (ERR-060~062). (1) ADR-013:144,171-174 IVFFlat→HNSW — comparison table and index decision section rewritten. (2) migration-strategy:372,377-393 IVFFlat text→HNSW — execution order + index note rewritten for HNSW characteristics. (3) plan:843-853 hot_memories MV SQL — INNER JOIN→LEFT JOIN LATERAL aligned with migration-strategy:285-302. Plan bumped v2.0.3→v2.0.4. PLAN_SYNC.md drift log updated with 3 entries. All plan documents now consistent on index strategy (HNSW) and hot_memories SQL (LEFT JOIN)."}
{"ts":"0208C29","from":"arch","type":"done","task":"SYNC-001","out":".axel-ops/PLAN_SYNC.md","note":"Phase A PLAN_SYNC.md interface mappings created. Expanded from 6 flat entries to 3 sub-sections: A.1 Root Scaffolding (6 files, SCAFFOLD-001/002/003/006), A.2 Per-Package Config (11 files, SCAFFOLD-004/005), A.3 CI Pipeline (1 file, SCAFFOLD-007). Added A.4 Plan-Spec Cross-References table (8 entries) mapping each scaffolding spec to plan line numbers, ADRs, and CONSTITUTION rules. All entries map Plan Section ↔ Code Location with ADR/plan line references."}
{"ts":"0208C32","from":"arch","type":"done","task":"SYNC-001","out":".axel-ops/PLAN_SYNC.md","note":"SYNC-001 COMPLETE. (1) Phase A: 20/21 scaffold files verified → IN_SYNC (CI yml NOT_STARTED, SCAFFOLD-007 in progress). (2) Phase B: 6 sub-sections (B.1~B.6) with 35 interface-code mappings created — core types (9 files, 19 interfaces), decay (4 files), memory layers (6 files, M0-M5), context assembly (4 files), persona (3 files), orchestrator (3 files). (3) B.7 Cross-Package Interface Summary: 13 interface groups with consumer package mapping (CONSTITUTION §9). (4) Phase C/D reformatted with plan Layer references. (5) Drift log entry for Phase A status transition."}
{"ts":"0208C32","from":"arch","type":"interface-contract","pkg":"core/types","interfaces":["Memory","MemoryType","MemorySearchResult","Message","MessageRole","SessionState","SessionSummary","ReActEvent","ToolCallRequest","ToolResult","ToolDefinition","HealthState","HealthStatus","ComponentHealth","MemoryEngine","MemoryStats","TokenUsage"],"note":"CORE-001 target: 9 type files in packages/core/src/types/. Plan §3.5 lines 347-511 is the canonical spec. Dev-Core should implement these as exported interfaces + Zod schemas."}
{"ts":"0208C32","from":"arch","type":"interface-contract","pkg":"core/decay","interfaces":["DecayInput","DecayConfig","calculateDecayedImportance"],"note":"CORE-002 target: plan §3.2 lines 1028-1085 + ADR-015. Pure function, no I/O. 8-step formula. Dev-Core should implement as pure TS module."}
{"ts":"0208C32","from":"arch","type":"interface-contract","pkg":"core/memory","interfaces":["StreamBuffer","StreamEvent","WorkingMemory","Turn","EpisodicMemory","SemanticMemory","ConceptualMemory","Entity","Relation","MetaMemory","PrefetchedMemory"],"note":"CORE-003 target: plan §3.1 lines 933-1008 + ADR-013. 6 memory layer interfaces (M0-M5). Implementations will be in infra (concrete storage); core defines the contracts."}
{"ts":"0208C32","from":"arch","type":"interface-contract","pkg":"core/context","interfaces":["ContextBudget","AssembledContext","ContextSection","ContextDataProvider","ContextAssembler"],"note":"CORE-004 target: plan §3.3 lines 1092-1153 + ADR-012. ContextDataProvider is the DI contract (7 methods). ContextAssembler takes it via constructor injection."}
{"ts":"0208C32","from":"arch","type":"interface-contract","pkg":"core/persona","interfaces":["PersonaSchema","Persona","PersonaEngine","ChannelAdaptation"],"note":"CORE-005 target: plan Layer 4 lines 1155-1227. Zod schema → inferred type. Hot-reload via fs.watch. 6-channel adaptation config."}
